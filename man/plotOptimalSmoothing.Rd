% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/plotOptimalSmoothing.R
\name{plotOptimalSmoothing}
\alias{plotOptimalSmoothing}
\title{Plot the Optimally Smoothed Keyword Curves}
\usage{
plotOptimalSmoothing(
  data,
  opt_result,
  m_opt = NULL,
  penalty_opt = NULL,
  ylab = "Frequency",
  xlim = NULL,
  main = NULL,
  lwd = 1,
  nx = NULL
)
}
\arguments{
\item{data}{A list returned by \code{\link[=importData]{importData()}}, containing at least:
\code{tdm}, \code{corpus_info}, and \code{year_cols}.
The element \code{optimal_results} must also be set, typically from
\code{data$optimal_results <- results_list[[opt$penalty_opt]]}.}

\item{opt_result}{A list returned by \code{\link[=optimalSmoothing]{optimalSmoothing()}}, containing the selected
optimal degree and penalty.}

\item{m_opt}{Optional integer. If specified, overrides the spline degree in \code{opt_result}.}

\item{penalty_opt}{Optional character. If specified, overrides the penalty in \code{opt_result}.
Must be one of \code{"m-2"}, \code{"2"}, \code{"1"}, \code{"0"}.}

\item{ylab}{Character. Label for the y-axis. Default is \code{"Frequency"}.}

\item{xlim}{Numeric vector of length 2 specifying the x-axis limits. Default is automatic.}

\item{main}{Optional plot title. If \code{NULL}, an automatic expression with GCV info is used.}

\item{lwd}{Numeric. Line width multiplier. Default is \code{1}.}

\item{nx}{Integer. Number of evaluation points for the smoothed curves.
Default is \verb{10 Ã— number of years}.}
}
\value{
A \code{ggplot2} object showing raw (dashed) and smoothed (solid) keyword curves over time.
}
\description{
This function visualizes the result of the optimal smoothing procedure applied
to keyword frequency curves over time. It overlays raw curves (dashed gray lines)
and smoothed curves (solid colored lines) for all selected keywords.
The optimal spline degree and penalization type are used by default, unless
explicitly overridden via \code{m_opt} and \code{penalty_opt}.
}
\details{
The smoothing is performed using B-splines with roughness penalties, and the smoothed
functions are evaluated at a high-resolution grid (\code{nx} points) for smooth visualization.
}
\examples{
\dontrun{
data <- importData("tdm.csv", "corpus.csv")
res_list <- list(
  "m-2" = smoothingSelection(data, penalty_type = "m-2", plot = FALSE),
  "2"   = smoothingSelection(data, penalty_type = "2", plot = FALSE),
  "1"   = smoothingSelection(data, penalty_type = "1", plot = FALSE),
  "0"   = smoothingSelection(data, penalty_type = "0", plot = FALSE)
)

opt <- optimalSmoothing(res_list)
data$optimal_results <- res_list[[opt$penalty_opt]]
plotOptimalSmoothing(data, opt_result = opt)
}

}
