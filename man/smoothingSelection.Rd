% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/smoothingSelection.R
\name{smoothingSelection}
\alias{smoothingSelection}
\title{Selection of Optimal Smoothing Parameters for Chronological Keyword Curves}
\usage{
smoothingSelection(
  data,
  lambda_seq = NULL,
  degrees = NULL,
  penalty_type = "m-2",
  normty = NULL,
  plot = TRUE,
  verbose = TRUE
)
}
\arguments{
\item{data}{A list returned by \code{\link[=importData]{importData()}}, containing the term-document matrix, corpus
information, and year columns.}

\item{lambda_seq}{Numeric vector of log10(lambda) values to evaluate. Defaults to \code{seq(-6, 9, 0.25)}.}

\item{degrees}{Integer vector of B-spline degrees (\code{m}) to test. Defaults to \code{1:8}.}

\item{penalty_type}{Character string indicating the type of penalization. Accepted values are:
\itemize{
\item \code{"m-2"}: penalize the (m-2)-th derivative (default);
\item \code{"2"}: second derivative if \code{m > 3}, else reduced;
\item \code{"1"}: first derivative if \code{m > 2}, else none;
\item \code{"0"}: no penalization.
}}

\item{normty}{Optional character string indicating the normalization type applied to the TDM
(used only for labeling results).}

\item{plot}{Logical. If \code{TRUE} (default), returns plots for each diagnostic criterion.}

\item{verbose}{Logical. If \code{TRUE}, prints progress messages during the selection process.}
}
\value{
A named list with the following components:
\describe{
\item{results}{A data frame containing the full grid of (m, lambda) combinations with associated diagnostics.}
\item{summary_optimal}{A summary table of optimal GCV and OCV results per degree.}
\item{optimal_gcv}{Subset of \code{results} containing the lambda value that minimizes GCV for each degree.}
\item{optimal_ocv}{Subset of \code{results} containing the lambda value that minimizes OCV for each degree.}
\item{plots}{A list of \code{ggplot} objects for \code{df}, \code{sse}, \code{gcv}, and \code{ocv} (only if \code{plot = TRUE}).}
\item{summary_panel}{A graphical summary (grob object) of optimal smoothing for visual reporting.}
\item{degree}{Numeric indicates the degree m}
\item{penalty_type}{Character string of the penalization type used.}
\item{call}{The matched call for reproducibility.}
}
}
\description{
Computes optimal smoothing parameters for term frequency curves over time using B-spline basis
functions and penalized smoothing. The function evaluates combinations of spline degrees (\code{m})
and smoothing parameters (\code{lambda}) under different penalty types, computing diagnostic criteria
such as degrees of freedom (\code{df}), sum of squared errors (\code{sse}), generalized cross-validation
(\code{gcv}), and ordinary cross-validation (\code{ocv}).
}
\details{
The function returns a complete set of results, including a table of diagnostics, optimal
parameters for each degree, and optional visualizations for interpretation.
}
\examples{
\dontrun{
tdm <- system.file("extdata", "tdm.csv", package = "cccc")
corpus <- system.file("extdata", "corpus.csv", package = "cccc")
data <- importData(tdm_file = tdm, corpus_file = corpus,
sep_tdm = ";",sep_corpus_info = ";",zone="stat")

data_nchi <- normalization(data, normty = "nchi", sc = 1000)

# Run smoothing selection using default settings
result <- smoothingSelection(data_nchi, penalty_type = "m-2")

}
}
\seealso{
\code{\link[=optimalSmoothing]{optimalSmoothing()}}, \code{\link[=plotOptimalSmoothing]{plotOptimalSmoothing()}}
}
